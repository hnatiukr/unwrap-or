"use strict";(self.webpackChunkunwrap_or_docs=self.webpackChunkunwrap_or_docs||[]).push([[956],{3126:(e,n,d)=>{d.d(n,{R:()=>s,x:()=>t});var i=d(8101);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}},8293:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"option/option","title":"Module option","description":"Optional values.","source":"@site/docs/option/module.md","sourceDirName":"option","slug":"/option","permalink":"/unwrap-or/uk/option","draft":false,"unlisted":false,"editUrl":"https://github.com/hnatiukr/unwrap-or/docs/docs/option/module.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"option","slug":"/option","title":"Module option","sidebar_label":"Module","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/unwrap-or/uk/"},"next":{"title":"API","permalink":"/unwrap-or/uk/option/methods"}}');var o=d(5105),r=d(3126);const s={id:"option",slug:"/option",title:"Module option",sidebar_label:"Module",sidebar_position:1},t=void 0,c={},l=[{value:"Method overview",id:"method-overview",level:2},{value:"Querying the variant",id:"querying-the-variant",level:3},{value:"Extracting the contained value",id:"extracting-the-contained-value",level:3},{value:"Transforming contained values",id:"transforming-contained-values",level:3},{value:"Boolean operators",id:"boolean-operators",level:3},{value:"Examples",id:"examples",level:2}];function h(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Optional values."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Option<T> {\n    None,\n    Some(T),\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Type ",(0,o.jsx)(n.code,{children:"Option"})," represents an optional value: every ",(0,o.jsx)(n.code,{children:"Option"})," is either ",(0,o.jsx)(n.code,{children:"Some"})," and contains a value, or ",(0,o.jsx)(n.code,{children:"None"}),", and does not. ",(0,o.jsx)(n.code,{children:"Option"})," types are very common, as they have a number of uses:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"initial values"}),"\n",(0,o.jsx)(n.li,{children:"return values for functions that are not defined over their entire input range (partial functions)"}),"\n",(0,o.jsxs)(n.li,{children:["return value for otherwise reporting simple errors, where ",(0,o.jsx)(n.code,{children:"None"})," is returned on error"]}),"\n",(0,o.jsx)(n.li,{children:"optional struct fields"}),"\n",(0,o.jsx)(n.li,{children:"struct fields that can be loaned or \u201ctaken\u201d"}),"\n",(0,o.jsx)(n.li,{children:"optional function arguments"}),"\n",(0,o.jsx)(n.li,{children:"nullable pointers"}),"\n",(0,o.jsx)(n.li,{children:"swapping things out of difficult situations"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Option"}),"s are commonly paired with matching to query the presence of a value and take action, always accounting for the ",(0,o.jsx)(n.code,{children:"None"})," case."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import { type Option, Some, None } from "unwrap-or/option";\n\nfunction divide(numerator: number, denominator: number): Option<number> {\n  return denominator === 0 ? Some(numerator / denominator) : None;\n}\n\nlet option_num: Option<number> = divide(2.0, 3.0);\n\nif (option_num.is_some()) {\n  const value = option.unwrap();\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"method-overview",children:"Method overview"}),"\n",(0,o.jsx)(n.p,{children:"In addition to working with pattern matching, Option provides a wide variety of different methods."}),"\n",(0,o.jsx)(n.h3,{id:"querying-the-variant",children:"Querying the variant"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"is_some"})," and ",(0,o.jsx)(n.code,{children:"is_none"})," methods return ",(0,o.jsx)(n.code,{children:"true"})," if the ",(0,o.jsx)(n.code,{children:"Option"})," is ",(0,o.jsx)(n.code,{children:"Some"})," or ",(0,o.jsx)(n.code,{children:"None"}),", respectively."]}),"\n",(0,o.jsx)(n.h3,{id:"extracting-the-contained-value",children:"Extracting the contained value"}),"\n",(0,o.jsxs)(n.p,{children:["These methods extract the contained value in an ",(0,o.jsx)(n.code,{children:"Option<T>"})," when it is the ",(0,o.jsx)(n.code,{children:"Some"})," variant. If the ",(0,o.jsx)(n.code,{children:"Option"})," is ",(0,o.jsx)(n.code,{children:"None"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"expect"})," panics with a provided custom message"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"unwrap"})," panics with a generic message"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"unwrap_or"})," returns the provided default value"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"unwrap_or_else"})," returns the result of evaluating the provided function"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"transforming-contained-values",children:"Transforming contained values"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ok_or"})," transforms ",(0,o.jsx)(n.code,{children:"Some(v)"})," to ",(0,o.jsx)(n.code,{children:"Ok(v)"}),", and ",(0,o.jsx)(n.code,{children:"None"})," to ",(0,o.jsx)(n.code,{children:"Err(err)"})," using the provided default ",(0,o.jsx)(n.code,{children:"err"})," value"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ok_or_else"})," transforms ",(0,o.jsx)(n.code,{children:"Some(v)"})," to ",(0,o.jsx)(n.code,{children:"Ok(v)"}),", and ",(0,o.jsx)(n.code,{children:"None"})," to a value of ",(0,o.jsx)(n.code,{children:"Err"})," using the provided function"]}),"\n",(0,o.jsxs)(n.li,{children:["transpose transposes an ",(0,o.jsx)(n.code,{children:"Option"})," of a ",(0,o.jsx)(n.code,{children:"Result"})," into a ",(0,o.jsx)(n.code,{children:"Result"})," of an ",(0,o.jsx)(n.code,{children:"Option"})]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["These methods transform the ",(0,o.jsx)(n.code,{children:"Some"})," variant:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"filter"})," calls the provided predicate function on the contained value ",(0,o.jsx)(n.code,{children:"t"})," if the ",(0,o.jsx)(n.code,{children:"Option"})," is ",(0,o.jsx)(n.code,{children:"Some(t)"}),", and returns ",(0,o.jsx)(n.code,{children:"Some(t)"})," if the function returns ",(0,o.jsx)(n.code,{children:"true"}),"; otherwise, returns ",(0,o.jsx)(n.code,{children:"None"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"flatten"})," removes one level of nesting from an ",(0,o.jsx)(n.code,{children:"Option<Option<T>>"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"map"})," transforms ",(0,o.jsx)(n.code,{children:"Option<T>"})," to ",(0,o.jsx)(n.code,{children:"Option<U>"})," by applying the provided function to the contained value of ",(0,o.jsx)(n.code,{children:"Some"})," and leaving ",(0,o.jsx)(n.code,{children:"None"})," values unchanged"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["These methods transform ",(0,o.jsx)(n.code,{children:"Option<T>"})," to a value of a possibly different type ",(0,o.jsx)(n.code,{children:"U"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"map_or"})," applies the provided function to the contained value of ",(0,o.jsx)(n.code,{children:"Some"}),", or returns the provided default value if the ",(0,o.jsx)(n.code,{children:"Option"})," is ",(0,o.jsx)(n.code,{children:"None"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"map_or_else"})," applies the provided function to the contained value of ",(0,o.jsx)(n.code,{children:"Some"}),", or returns the result of evaluating the provided fallback function if the ",(0,o.jsx)(n.code,{children:"Option"})," is ",(0,o.jsx)(n.code,{children:"None"})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"boolean-operators",children:"Boolean operators"}),"\n",(0,o.jsxs)(n.p,{children:["These methods treat the ",(0,o.jsx)(n.code,{children:"Option"})," as a boolean value, where ",(0,o.jsx)(n.code,{children:"Some"})," acts like ",(0,o.jsx)(n.code,{children:"true"})," and ",(0,o.jsx)(n.code,{children:"None"})," acts like ",(0,o.jsx)(n.code,{children:"false"}),". There are two categories of these methods: ones that take an ",(0,o.jsx)(n.code,{children:"Option"})," as input, and ones that take a function as input (to be lazily evaluated)."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"and"}),", ",(0,o.jsx)(n.code,{children:"or"}),", and ",(0,o.jsx)(n.code,{children:"xor"})," methods take another ",(0,o.jsx)(n.code,{children:"Option"})," as input, and produce an ",(0,o.jsx)(n.code,{children:"Option"})," as output. Only the and method can produce an ",(0,o.jsx)(n.code,{children:"Option<U>"})," value having a different inner type ",(0,o.jsx)(n.code,{children:"U"})," than ",(0,o.jsx)(n.code,{children:"Option<T>"}),"."]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"method"}),(0,o.jsx)(n.th,{children:"input"}),(0,o.jsx)(n.th,{children:"output"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"and"})}),(0,o.jsx)(n.td,{children:"(ignored)"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"and"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"and"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"or"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"or"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"or"})}),(0,o.jsx)(n.td,{children:"(ignored)"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(x)"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"xor"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"xor"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"xor"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(x)"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"xor"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})})]})]})]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"and_then"})," and ",(0,o.jsx)(n.code,{children:"or_else"})," methods take a function as input, and only evaluate the function when they need to produce a new value. Only the ",(0,o.jsx)(n.code,{children:"and_then"})," method can produce an ",(0,o.jsx)(n.code,{children:"Option<U>"})," value having a different inner type U than ",(0,o.jsx)(n.code,{children:"Option<T>"}),"."]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.code,{children:"method"})}),(0,o.jsx)(n.th,{children:"function input"}),(0,o.jsx)(n.th,{children:"function result"}),(0,o.jsx)(n.th,{children:"output"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"and_then"})}),(0,o.jsx)(n.td,{children:"(not provided)"}),(0,o.jsx)(n.td,{children:"(not evaluated)"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"and_then"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"x"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"and_then"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"x"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"or_else"})}),(0,o.jsx)(n.td,{children:"(not provided)"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"None"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"or_else"})}),(0,o.jsx)(n.td,{children:"(not provided)"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(y)"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"or_else"})}),(0,o.jsx)(n.td,{children:"(not provided)"}),(0,o.jsx)(n.td,{children:"(not evaluated)"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"Some(x)"})})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,o.jsx)(n.p,{children:"...tbd"})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}}}]);